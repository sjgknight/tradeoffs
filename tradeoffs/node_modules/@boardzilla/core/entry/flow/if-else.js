import SwitchCase from './switch-case.js';
export default class If extends SwitchCase {
    constructor({ name, if: test, do: doExpr, else: elseExpr }) {
        super({ name, switch: test, cases: [{ eq: true, do: doExpr }], default: elseExpr });
    }
    toString() {
        return `if-else${this.name ? ":" + this.name : ""} (${!!this.position.value}${this.block instanceof Array ? ', item #' + this.sequence : ''})`;
    }
    visualize(top) {
        const blocks = {
            do: this.cases[0].do instanceof Array ? this.cases[0].do : [this.cases[0].do],
        };
        if (this.default)
            blocks.else = this.default instanceof Array ? this.default : [this.default];
        return this.visualizeBlocks({
            type: 'ifElse',
            top,
            blocks,
            block: this.position ? (this.position.default ? 'else' : 'do') : undefined,
            position: this.position?.value,
        });
    }
}
//# sourceMappingURL=if-else.js.map